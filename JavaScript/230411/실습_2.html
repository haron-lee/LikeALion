<!DOCTYPE html>
<html lang="ko-KR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Document</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      color: #fff;
    }

    #mainForm {
      width: 460px;
      margin: 0 auto;
      padding: 20px;
      border-radius: 10px;
      background-color: #FF8787;
    }

    #mainForm fieldset {
      border: none;
    }

    /* 
    redered legend : https://html.spec.whatwg.org/multipage/rendering.html#rendered-legend 
    legendëŠ” fieldsetì˜ íŒ¨ë”©ì„ ë¬´ì‹œí•©ë‹ˆë‹¤.
*/
    #mainForm legend {
      font-size: 1.2em;
      text-align: center;
    }

    #mainForm label {
      display: block;
    }

    #mainForm input {
      display: block;
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border: none;
      border-radius: 5px;
      /* ê·¸ë¦¼ìì˜ ìˆ˜í‰ê±°ë¦¬, ìˆ˜ì§ê±°ë¦¬, ê·¸ë¦¼ì í…Œë‘ë¦¬ í¬ê¸°, ê·¸ë¦¼ìì˜ ìœ„ì¹˜(inset: ë‚´ë¶€ë¡œ)  */
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25) inset;
    }

    /* ê°€ìƒí´ë˜ìŠ¤ valid. inputì— ì…ë ¥ë°›ì€ ê°’ì´ ìœ íš¨í•˜ë‹¤ë©´ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. */
    #mainForm input:valid {
      background-color: #E5EBB2;
    }

    #mainForm button {
      /* fieldsetì€ BFCë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— í•´ì œê°€ í•„ìš” ì—†ìŠµë‹ˆë‹¤. https://html.spec.whatwg.org/multipage/rendering.html#the-fieldset-and-legend-elements */
      float: right;
      padding: 10px;
      margin-left: 10px;
      background-color: #F8C4B4;
      cursor: pointer;
      border-radius: 5px;
      border: none;
    }

    #mainForm progress {
      width: 100%;
    }
  </style>
</head>

<body>
  <form id="mainForm">
    <fieldset>
      <legend>JS ìŠ¤í„°ë”” ëª¨ì§‘ ì„¤ë¬¸ì¡°ì‚¬</legend>
      <!-- progress : ì‘ì—…ì˜ ì™„ë£Œ ì •ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìš”ì†Œì…ë‹ˆë‹¤. -->
      <progress max="100" value="0" class="bar-progress"></progress>
      <p class="msg-notice">ì„¤ë¬¸ì§€ë¥¼ ì‘ì„±í•˜ì„¸ìš”!</p>

      <label for="q1">ì§ˆë¬¸ 1. ë¬´ì—‡ì„ ê°€ì¥ ë°°ìš°ê³  ì‹¶ìœ¼ì„¸ìš”?</label>
      <input type="text" id="q1" required>
      <label for="q2">ì§ˆë¬¸ 2. ì‹œê°„ì€ ì–¸ì œê°€ ì ë‹¹í•œê°€ìš”?</label>
      <input type="text" id="q2" required>
      <label for="q3">ì§ˆë¬¸ 3. ëª‡ ì‹œê°„ì •ë„ ì˜ˆìƒí•˜ì„¸ìš”?</label>
      <input type="text" id="q3" required>
      <label for="q4">ì§ˆë¬¸ 4. ë‚œì´ë„ë¥¼ ì¡°ì •í•œë‹¤ë©´?</label>
      <input type="text" id="q4" required>
      <label for="q5">ì§ˆë¬¸ 5. ëìœ¼ë¡œ í•˜ê³ ì‹¶ì€ ë§ì´ ìˆë‚˜ìš”?</label>
      <input type="text" id="q5" required>

      <button type="submit">ì œì¶œ</button>
      <button type="reset">ì´ˆê¸°í™”</button>
    </fieldset>
  </form>

  <script>
    // ğŸ“ ì¬í˜„ë‹˜ ì½”ë“œ
    const mainForm = document.querySelector("#mainForm"),
      progressBar = mainForm.querySelector(".bar-progress"),
      message = mainForm.querySelector(".msg-notice"),
      inputs = mainForm.querySelectorAll("input"),
      btnReset = mainForm.querySelector("button[type='reset']");

    // í‚¤ë³´ë“œë¥¼ ëˆŒë €ë‹¤ê°€ ë–¼ë©´ì€ ì‹¤í–‰ì´ ëœë‹¤.
    mainForm.addEventListener("keyup", () => { // validê°’ì„ ì„¸ì–´ì¤„ ë³€ìˆ˜
      let validCounter = 0;

      inputs.forEach((item) => {
        // inputì´ ìœ íš¨í•œì§€ ì•„ë‹Œì§€ì— ëŒ€í•œ ì—¬ëŸ¬ê°€ì§€ ì •ë³´ê°€ ë‹´ê¹€ item.validity ê·¸ì•ˆì˜ validê°’ì„ ì°¾ëŠ”ë‹¤.
        if (item.validity.valid) {
          validCounter++;
        }
      })

      switch (validCounter) {
        case 1:
          message.textContent = "ì‹œì‘í–ˆìŠµë‹ˆë‹¤!"
          progressBar.setAttribute('value', '20');
          break;
        case 2:
          message.textContent = "ë‹¤ìŒìœ¼ë¡œ ê°€ë³¼ê¹Œìš”!"
          progressBar.setAttribute('value', '40');
          break;
        case 3:
          message.textContent = "ì ˆë°˜ ì§€ë‚¬ìŠµë‹ˆë‹¤!"
          progressBar.setAttribute('value', '60');
          break;
        case 4:
          message.textContent = "ê±°ì˜ ëë‚¬ì–´ìš”!"
          progressBar.setAttribute('value', '80');
          break;
        case 5:
          message.textContent = "ì œì¶œí•´ì£¼ì„¸ìš”!"
          progressBar.setAttribute('value', '100');
          break;
        default:
          message.textContent = "ì„¤ë¬¸ì§€ë¥¼ ì‘ì„±í•˜ì„¸ìš”!"
          progressBar.setAttribute('value', '0');
      }
    })

    btnReset.addEventListener("click", () => {
      message.textContent = "ì„¤ë¬¸ì§€ë¥¼ ì‘ì„±í•˜ì„¸ìš”!";
      progressBar.setAttribute('value', '0');
    })


    // ğŸ“ ìˆ˜ë¹ˆë‹˜ ì½”ë“œ
    // const mainForm = document.getElementById('mainForm');
    // const progress = document.querySelector('.bar-progress');
    // const msgNotice = document.querySelector('.msg-notice');

    // mainForm.addEventListener('input', function (event) {
    //   const inputs = mainForm.querySelectorAll('input');
    //   const validInputs = mainForm.querySelectorAll('input:valid');

    //   progress.value = validInputs.length / inputs.length * 100;
    //   if (progress.value === 20) {
    //     msgNotice.textContent = 'ì„¤ë¬¸ì§€ ì‘ì„±ì´ ì‹œì‘ë˜ì—ˆì–´ìš”~ ëê¹Œì§€ ì‘ì„±í•´ì£¼ì„¸ìš”!';
    //   } else if (progress.value === 40) {
    //     msgNotice.textContent = 'ì¢‹ì•„ìš”~ ê³„ì† ê³ ê³ ì”½~!';
    //   } else if (progress.value === 60) {
    //     msgNotice.textContent = 'ì ˆë°˜ ì§€ë‚¬ìŠµë‹ˆë‹¤! í™”ì´íŒ…!';
    //   } else if (progress.value === 80) {
    //     msgNotice.textContent = 'ê±°ì˜ ë‹¤ í–ˆì–´ìš”! ì¡°ê¸ˆë§Œ ë” ~~';
    //   } else if (progress.value === 100) {
    //     msgNotice.textContent = 'ì˜í–ˆìŠµë‹ˆë‹¤! ì œì¶œí•´ì£¼ì„¸ìš”~';
    //   } else {
    //     msgNotice.textContent = 'ì„¤ë¬¸ì§€ë¥¼ ì‘ì„±í•˜ì„¸ìš”!';
    //   }
    // })

    // mainForm.addEventListener('click', function (event) {
    //   // ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ëŒ€ìƒ
    //   const target = event.target;
    //   // ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ëŒ€ìƒì´ ë²„íŠ¼ì´ ì•„ë‹ˆë¼ë©´ ì´ë²¤íŠ¸ ì—†ìŒ
    //   if (target.tagName !== 'BUTTON') return;

    //   if (target.type === 'submit') {
    //     const inputs = mainForm.querySelectorAll('input');
    //     const validInputs = mainForm.querySelectorAll('input:valid');

    //     if (validInputs.length === inputs.length) {
    //       alert('ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.');
    //     } else {
    //       alert('ì…ë ¥ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
    //     }
    //   } else if (target.type === 'reset') {
    //     progress.value = 0;
    //     msgNotice.textContent = 'ì„¤ë¬¸ì§€ë¥¼ ì‘ì„±í•˜ì„¸ìš”!';
    //   }
    // })
  </script>
</body>

</html>